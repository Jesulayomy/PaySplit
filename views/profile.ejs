<!DOCTYPE html>
<html>
<%- include('chunks/head') -%>
<body>
  <%- include('chunks/navbar') -%>

  <div class="container-fluid p-5 pt-0">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h1>Your Spending</h1>
    </div>
    <canvas id="myChart" style="width:100%;"></canvas>

  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
  <script>
    const payments = <%- JSON.stringify(payments) %>;
    const xValues = Object.keys(payments);
    const yValues = Object.values(payments);
    const barColors = ["red", "green","blue","orange","brown"];
    new Chart("myChart", {
      type: "doughnut",
      data: {
        labels: xValues,
        datasets: [{
          backgroundColor: barColors,
          data: yValues
        }]
      },
      options: {
        title: {
          display: true,
          text: "Contributions"
        }
      }
    });
  </script>
<%- include('chunks/footer') -%>